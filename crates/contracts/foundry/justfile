set fallback := true

# default recipe to display help information
default:
  @just --list

test-deployable:
    #!/usr/bin/env bash

    KTD_SCAFFOLD_FACTORY=$(forge create ScaffoldFactory --private-key 0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80 --broadcast --json | jq -r .deployedTo)

    KTD_SCAFFOLD_PORTAL=$(forge create ScaffoldPortal --private-key 0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80 --broadcast --json --constructor-args \
                            $KTD_SCAFFOLD_FACTORY | jq -r .deployedTo)

    KTD_KAILUA_TREASURY=$(forge create KailuaTreasury --private-key 0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80 --broadcast --json --constructor-args \
                            0x0000000000000000000000000000000000000001 \
                            0x0000000000000000000000000000000000000000000000000000000000000001 \
                            0x0000000000000000000000000000000000000000000000000000000000000001 \
                            0x01 \
                            0x01 \
                            0x01 \
                            $KTD_SCAFFOLD_PORTAL \
                            0x0000000000000000000000000000000000000000000000000000000000000001 \
                            0x01 | jq -r .deployedTo)

    forge create KailuaGame --private-key 0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80 --broadcast --constructor-args \
      $KTD_KAILUA_TREASURY \
      0x01 \
      0x01 \
      0x01 \
      0x01
